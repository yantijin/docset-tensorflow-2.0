<div itemscope itemtype="http://developers.google.com/ReferenceObject">
<meta itemprop="name" content="tf.estimator.TrainSpec" />
<meta itemprop="path" content="Stable" />
<meta itemprop="property" content="input_fn"/>
<meta itemprop="property" content="max_steps"/>
<meta itemprop="property" content="hooks"/>
<meta itemprop="property" content="__new__"/>
</div>


<h1>tf.estimator.TrainSpec</h1>

<!-- Insert buttons -->




<table class="tfo-notebook-buttons tfo-api" align="left">

<td>
  <a target="_blank" href="https://github.com/tensorflow/estimator/tree/master/tensorflow_estimator/python/estimator/training.py">
    <img src="https://www.tensorflow.org/images/GitHub-Mark-32px.png" />
    View source on GitHub
  </a>
</td></table>


<h2>Class <code>TrainSpec</code></h2>

<!-- Start diff -->


<p>Configuration for the &ldquo;train&rdquo; part for the <code>train_and_evaluate</code> call.</p>

<h3>Aliases:</h3>

<ul>
<li>Class <code>tf.compat.v1.estimator.TrainSpec</code></li>
<li>Class <code>tf.compat.v2.estimator.TrainSpec</code></li>
</ul>


<!-- Placeholder for "Used in" -->


<p><code>TrainSpec</code> determines the input data for the training, as well as the
duration. Optional hooks run at various stages of training.</p>

<h2 id="__new__"><code>__new__</code></h2>


<p><a target="_blank" href="https://github.com/tensorflow/estimator/tree/master/tensorflow_estimator/python/estimator/training.py">View source</a></p>

<p><code>python
@staticmethod
__new__(
    cls,
    input_fn,
    max_steps=None,
    hooks=None
)
</code></p>

<p>Creates a validated <code>TrainSpec</code> instance.</p>

<h4>Args:</h4>

<ul>
<li><p><b><code>input_fn</code></b>: A function that provides input data for training as minibatches.
See <a href="https://tensorflow.org/guide/premade_estimators#create_input_functions">Premade Estimators</a>
for more information. The function should construct and return one of
the following:</p>

<ul>
<li>A &lsquo;tf.data.Dataset&rsquo; object: Outputs of <code>Dataset</code> object must be a
tuple (features, labels) with same constraints as below.</li>
<li>A tuple (features, labels): Where features is a <code>Tensor</code> or a
dictionary of string feature name to <code>Tensor</code> and labels is a
<code>Tensor</code> or a dictionary of string label name to <code>Tensor</code>.</li>
</ul>
</li>
<li><p><b><code>max_steps</code></b>: Int. Positive number of total steps for which to train model.
If <code>None</code>, train forever. The training <code>input_fn</code> is not expected to
generate <code>OutOfRangeError</code> or <code>StopIteration</code> exceptions. See the
<code>train_and_evaluate</code> stop condition section for details.</p></li>
<li><b><code>hooks</code></b>: Iterable of <code>tf.train.SessionRunHook</code> objects to run
on all workers (including chief) during training.</li>
</ul>


<h4>Returns:</h4>

<p>A validated <code>TrainSpec</code> object.</p>

<h4>Raises:</h4>

<ul>
<li><b><code>ValueError</code></b>: If any of the input arguments is invalid.</li>
<li><b><code>TypeError</code></b>: If any of the arguments is not of the expected type.</li>
</ul>


<h2>Properties</h2>

<h3 id="input_fn"><code>input_fn</code></h3>




<h3 id="max_steps"><code>max_steps</code></h3>




<h3 id="hooks"><code>hooks</code></h3>



