<div itemscope itemtype="http://developers.google.com/ReferenceObject">
<meta itemprop="name" content="tf.linalg.band_part" />
<meta itemprop="path" content="Stable" />
</div>


<h1>tf.linalg.band_part</h1>

<!-- Insert buttons -->




<table class="tfo-notebook-buttons tfo-api" align="left">
</table>


<p>Defined in generated file: <code>python/ops/gen_array_ops.py</code></p>

<!-- Start diff -->


<p>Copy a tensor setting everything outside a central band in each innermost matrix</p>

<h3>Aliases:</h3>

<ul>
<li><code>tf.compat.v1.linalg.band_part</code></li>
<li><code>tf.compat.v1.matrix_band_part</code></li>
<li><code>tf.compat.v2.linalg.band_part</code></li>
</ul>


<p><code>python
tf.linalg.band_part(
    input,
    num_lower,
    num_upper,
    name=None
)
</code></p>

<!-- Placeholder for "Used in" -->


<p>to zero.</p>

<p>The <code>band</code> part is computed as follows:
Assume <code>input</code> has <code>k</code> dimensions <code>[I, J, K, ..., M, N]</code>, then the output is a
tensor with the same shape where</p>

<p><code>band[i, j, k, ..., m, n] = in_band(m, n) * input[i, j, k, ..., m, n]</code>.</p>

<p>The indicator function</p>

<p><code>in_band(m, n) = (num_lower &lt; 0 || (m-n) &lt;= num_lower)) &amp;&amp;
                 (num_upper &lt; 0 || (n-m) &lt;= num_upper)</code>.</p>

<h4>For example:</h4>

<p>```</p>

<h1>if &lsquo;input&rsquo; is [[ 0,  1,  2, 3]</h1>

<pre><code>             [-1,  0,  1, 2]
             [-2, -1,  0, 1]
             [-3, -2, -1, 0]],
</code></pre>

<p>tf.matrix_band_part(input, 1, -1) ==> [[ 0,  1,  2, 3]
                                       [-1,  0,  1, 2]
                                       [ 0, -1,  0, 1]
                                       [ 0,  0, -1, 0]],</p>

<p>tf.matrix_band_part(input, 2, 1) ==> [[ 0,  1,  0, 0]
                                      [-1,  0,  1, 0]
                                      [-2, -1,  0, 1]
                                      [ 0, -2, -1, 0]]
```</p>

<h4>Useful special cases:</h4>

<p><code>
 tf.matrix_band_part(input, 0, -1) ==&gt; Upper triangular part.
 tf.matrix_band_part(input, -1, 0) ==&gt; Lower triangular part.
 tf.matrix_band_part(input, 0, 0) ==&gt; Diagonal.
</code></p>

<h4>Args:</h4>

<ul>
<li><b><code>input</code></b>: A <code>Tensor</code>. Rank <code>k</code> tensor.</li>
<li><b><code>num_lower</code></b>: A <code>Tensor</code>. Must be one of the following types: <code>int32</code>, <code>int64</code>.
0-D tensor. Number of subdiagonals to keep. If negative, keep entire
lower triangle.</li>
<li><b><code>num_upper</code></b>: A <code>Tensor</code>. Must have the same type as <code>num_lower</code>.
0-D tensor. Number of superdiagonals to keep. If negative, keep
entire upper triangle.</li>
<li><b><code>name</code></b>: A name for the operation (optional).</li>
</ul>


<h4>Returns:</h4>

<p>A <code>Tensor</code>. Has the same type as <code>input</code>.</p>
